<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"
>

<h:head>
</h:head>

<h:body style="margin-left:10px">
	
	
	<script type="text/javascript">
		function handleDrop(event, ui) {
			var droppredKey = ui.draggable;
			
		}
	</script>
    
	<p:panel id="panelApp">
			<f:facet name="header">
				<h:panelGrid columns="3">
					<p:graphicImage name="LOGO_ITS4U_Group_Interstate_COLOR.png"  style="background: transparent;width:200px;margin-right:20px;"/>
					
					<p:outputLabel value="memory-leak"   style="width:100%;text-align: center;font-size: 40px;color:#003b50"></p:outputLabel>
					
				</h:panelGrid>			
			</f:facet>
   		<h:form id="form" prependId="false">
   		
   			<center>
   				<p:outputLabel value="!!! DANGER !!!"   style="width:100%;text-align: center;font-size: 20px;color:red"></p:outputLabel>
   				<br/>
   				<p:outputLabel value="Are you sure it's a good idea to press this button ?"   style="width:100%;text-align: center;font-size: 20px;color:red"></p:outputLabel>
   			</center>
   			
   			<div style="position:relative;margin:auto;text-align:center;">	
   				<p:commandButton value="Start Memory Allocation"  actionListener="#{allocMemoryBean.startAllocMemory}" update="@form" style="margin:10px;background:#003b50;color:white" />   
   				<p:commandButton value="Stop Memory Allocation"  actionListener="#{allocMemoryBean.stopAllocMemory}" update="@form" style="margin:10px;background:red;color:white" /> 				
   				<p:commandButton value="Clean Memory"  actionListener="#{allocMemoryBean.cleanAllocMemory}" update="@form" style="margin:10px;background:#003b50;color:white" />
   		   			
   			</div>
   			
   			<center>
   				<p:panelGrid columns="4" id="grid_result" style="text-align:center">
   					<h:outputText value="Map Size"/>
   					<h:outputText value="Memory Max"/>
   					<h:outputText value="Memory Total"/>
   					<h:outputText value="Free Memory Size"/>
   					
   					<h:outputText value="#{allocMemoryBean.mapSize}" style="text-align:center"/>
   					<h:outputText value="#{allocMemoryBean.maxmemory} MB" style="text-align:center"/>
   					<h:outputText value="#{allocMemoryBean.totalmemory} MB" style="text-align:center"/>
   					<h:outputText value="#{allocMemoryBean.counterFreeSize} MB" style="text-align:center"/>
   				</p:panelGrid>
   				<br/>
   				
   				<!-- <p:lineChart id="chartMem" model="#{allocMemoryBean.lineModel}" style="width: 100%; height: 500px;"/> -->
				
   				
   				 <p:poll interval="2" listener="#{allocMemoryBean.check}" update="grid_result"/>
   			</center>
   			
    	</h:form>
	</p:panel>
    
 
</h:body>
</html>
